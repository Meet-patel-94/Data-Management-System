PRAGMA foreign_keys=ON;
BEGIN TRANSACTION;
CREATE TABLE BOOK(
BookId INTEGER PRIMARY KEY AUTOINCREMENT,
BookName VARCHAR(50) NOT NULL,
Price INT NOT NULL,
ISBN INT,
Language VARCHAR(50),
PublicationDate VARCHAR(50),
AmazonRating INT,
Genre Char(10),
CONSTRAINT fk_dir FOREIGN KEY(BookId) REFERENCES BOOK (WarehouseId),
CONSTRAINT fk_dir FOREIGN KEY(BookId) REFERENCES Publisher (PublisherId),
CONSTRAINT fk_dir FOREIGN KEY(BookId) REFERENCES FedEx (FedExId)
);
CREATE TABLE Customer(
CustomerID INTEGER PRIMARY KEYT AUTOINCREMENT,
CustomerName VARCHAR(50) NOT NULL,
Price INT NOT NULL,
PhoneNO INT
);
Create TABLE Warehouse(
WarehouseId INTEGER PRIMARY KEY AUTOINCREMENT,
Address VARCHAR(50),
PhoneNO INT
);
Create TABLE Publisher(
PublisherID INTEGER PRIMARY KEY AUTOINCREMENT,
Address VARCHAR(50),
Website VARCHAR(50)
);
CREATE TABLE Author(
AuthorID INTEGER PRIMARY KEY AUTOINCREMENT,
AuthorName VARCHAR(50) NOT NULL,
Website VARCHAR(50) NOT NULL,
PhoneNo INT
);
CREATE TABLE FedEx(
FedExId INTEGER PRIMARY KEY AUTOINCREMENT,
Address VARCHAR(50),
PhoneNo INT
);
CREATE TABLE CustomerBook(
CustomerId INT NOT NULL,
BookId INT NOT NULL,
CONSTRAINT PK_CustomerBook PRIMARY KEY
(
 CustomerId,
 BookId
),
FOREIGN KEY(CustomerId) REFERENCES Customer(CustomerId),
FOREIGN KEY(BookId) REFERENCES Book(BookId)
);
Create TABLE BookAuthor(
AuthorId INT NOT NULL,
BookId INT NOT NULL,
CONSTRAINT PK_BookAuthor PRIMARY KEY
(
 AuthorId,
 BookId
),
FOREIGN KEY(AuthorId) REFERENCES Author(AuthorId),
FOREIGN KEY(BookId) REFERENCES Book(BookId)
);
COMMIT;



